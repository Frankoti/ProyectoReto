{% extends 'RegistroSocios/base.html' %}
{%block title%}qr{%endblock%}
{% block contenido %}
{% load static %}

<link rel="stylesheet" href='{% static "/css/form.css"%}'>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="keywords" content="lector codigo QR">
    <meta name="description" content="">
    <meta name="page_type" content="np-template-header-footer-from-plugin">
    <title>LECTOR QR</title>
    <link rel="stylesheet" href='{%static "/qr/nicepage.css"%}' media="screen">
    <link rel="stylesheet" href='{%static "/qr/LECTOR-QR.css"%}' media="screen">
    <script class="u-script" type="text/javascript" src="qr/jquery.js" defer=""></script>
    <script class="u-script" type="text/javascript" src="qr/nicepage.js" defer=""></script>
    <meta name="generator" content="Nicepage 3.11.0, nicepage.com">

    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i">
    <link id="u-page-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i">



    <script type="application/ld+json">{
		"@context": "http://schema.org",
		"@type": "Organization",
		"name": "",
		"url": "index.html"
}</script>
    <meta property="og:title" content="LECTOR QR">
    <meta property="og:type" content="website">
    <meta name="theme-color" content="#478ac9">
    <link rel="canonical" href="index.html">
    <meta property="og:url" content="index.html">
  </head>
  <body class="u-body">
    <section class="u-align-center u-clearfix u-image u-lightbox u-section-1" id="carousel_f464" data-image-width="150" data-image-height="99">
      <div class="u-clearfix u-sheet u-sheet-1">
        <div class="imagen u-clearfix u-gutter-30 u-layout-wrap u-layout-wrap-1">
          <div class="u-gutter-0 u-layout">
            <div class="u-layout-col">
              <div class="u-size-30">
                <div class="u-layout-row">
                  <div class="u-align-center-sm u-align-center-xs u-align-right-lg u-align-right-md u-align-right-xl u-container-style u-layout-cell u-left-cell u-right-cell u-size-60 u-layout-cell-1">
                    <div class="u-container-layout u-container-layout-1">
                      <h1 class="u-custom-font u-font-roboto u-text u-text-body-alt-color u-title u-text-1">lector codigo QR</h1>
                    </div>
                  </div>
                </div>
              </div>
              <div class="u-size-30">
                <div class="u-layout-row">
                  <div class="u-align-center u-black u-container-style u-layout-cell u-opacity u-opacity-50 u-right-cell u-size-60 u-layout-cell-2">
                    <div class="u-container-layout u-valign-middle u-container-layout-2">
                        <div align=center class="video-wrap">
                            <video id="video" playsinline autoplay></video>
                        </div>

                                <!-- Trigger canvas web API -->

                        <!-- Webcam video snapshot -->

                        <div align=center class="controller">
                            <button type="submit" id="snap">Capture</button>
                        </div>

                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <h3 class="u-text u-text-body-alt-color u-text-2">acerque la credencial a la camara para verificar los datos&nbsp;</h3>
        <img src='{% static "img/codigo.png"%}' alt="" class="u-image u-image-default u-image-1" data-image-width="313" data-image-height="236">
      </div>
    </section>

    <script type="text/javascript">
		'use strict';

		const video = document.getElementById('video');
		const canvas = document.getElementById('canvas');
		const snap = document.getElementById("snap");
		const errorMsgElement = document.querySelector('span#errorMsg');

		const constraints = {
		  audio: false,
		  video: {
		    width: 360, height: 240
		  }
		};

		// Access webcam
		async function init() {
		  try {
		    const stream = await navigator.mediaDevices.getUserMedia(constraints);
		    handleSuccess(stream);
		  } catch (e) {
		    errorMsgElement.innerHTML = `navigator.getUserMedia error:${e.toString()}`;
		  }
		}

		// Success
		function handleSuccess(stream) {
		  window.stream = stream;
		  video.srcObject = stream;
		}

		// Load init
		init();

		// Draw image
		var context = canvas.getContext('2d');
		snap.addEventListener("click", function() {
		        context.drawImage(video, 0, 100, 640, 480);

		});
	</script>




  </body>

{%endblock%}